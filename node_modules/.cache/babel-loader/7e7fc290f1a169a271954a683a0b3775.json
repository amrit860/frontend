{"ast":null,"code":"var _jsxFileName = \"/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/view-product/viewProduct.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport utils from \"./../../../utils/moment\";\nimport { Loader } from \"../../common/loader/loader.component\";\nimport { httpClient } from \"../../../utils/httpclient\";\nimport notification from \"../../../utils/notification\";\nconst IMG_URL = process.env.REACT_APP_IMG_URL;\nexport default class ViewProductComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.editProduct = id => {\n      this.props.history.push(`/Edit-Product/${id}`);\n    };\n\n    this.deleteProduct = (id, index) => {\n      console.log(\"id>>\", id + \"index>>\" + index); // eslint-disable-next-line no-restricted-globals\n\n      let confirmation = confirm(\"Are you sure want to delete?\");\n\n      if (confirmation) {\n        axios.delete(`http://localhost:2021/api/product/${id}`, {\n          headers: {\n            \"content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\")\n          }\n        }).then(response => {\n          notification.showInfo(\"item deleted sucessfully\");\n          const {\n            product\n          } = this.state;\n          product.splice(index, 1);\n          this.setState({\n            product\n          });\n        }).catch(err => {});\n      }\n    };\n\n    this.formatDate = () => {};\n\n    this.formatTime = () => {};\n\n    this.state = {\n      product: [],\n      isLoading: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.productData) {\n      this.setState({\n        product: this.props.productData\n      });\n    } else {\n      this.setState({\n        isLoading: true\n      });\n      httpClient.get(\"http://localhost:2021/api/product\", {}, true).then(response => {\n        this.setState({\n          product: response.data\n        });\n      }).catch(err => {}).finally(() => {\n        this.setState({\n          isLoading: false\n        });\n      });\n    }\n  }\n\n  render() {\n    console.log(this.state.product);\n    let tableContent = (this.state.product || []).map((item, index) => React.createElement(\"tr\", {\n      key: item._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, index + 1), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, item.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, item.category), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, item.price), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, utils.formatDate(item.createdAt)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, utils.formatTime(item.createdAt)), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: `${IMG_URL}/${item.images[0]}`,\n      alt: \"image.jpeg\",\n      width: \"100\",\n      height: \"100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.editProduct(item._id),\n      className: \"btn btn-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"edit\"), React.createElement(\"button\", {\n      onClick: () => this.deleteProduct(item._id, index),\n      className: \"btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"delete\"))));\n    let mainContent = this.state.isLoading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }) : React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, \"S.N\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Price\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Created Date\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Created Time\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"Images\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"action\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, tableContent));\n    return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"View Product\"), mainContent);\n  }\n\n}","map":{"version":3,"sources":["/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/view-product/viewProduct.js"],"names":["React","Component","axios","utils","Loader","httpClient","notification","IMG_URL","process","env","REACT_APP_IMG_URL","ViewProductComponent","constructor","props","editProduct","id","history","push","deleteProduct","index","console","log","confirmation","confirm","delete","headers","authorization","localStorage","getItem","then","response","showInfo","product","state","splice","setState","catch","err","formatDate","formatTime","isLoading","componentDidMount","productData","get","data","finally","render","tableContent","map","item","_id","name","category","price","createdAt","images","mainContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport utils from \"./../../../utils/moment\";\nimport { Loader } from \"../../common/loader/loader.component\";\nimport { httpClient } from \"../../../utils/httpclient\";\nimport notification from \"../../../utils/notification\";\n\nconst IMG_URL = process.env.REACT_APP_IMG_URL;\n\nexport default class ViewProductComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      product: [],\n      isLoading: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.productData) {\n      this.setState({\n        product: this.props.productData,\n      });\n    } else {\n      this.setState({\n        isLoading: true,\n      });\n      httpClient\n        .get(\"http://localhost:2021/api/product\", {}, true)\n\n        .then((response) => {\n          this.setState({\n            product: response.data,\n          });\n        })\n        .catch((err) => {})\n        .finally(() => {\n          this.setState({\n            isLoading: false,\n          });\n        });\n    }\n  }\n  editProduct = (id) => {\n    this.props.history.push(`/Edit-Product/${id}`);\n  };\n  deleteProduct = (id, index) => {\n    console.log(\"id>>\", id + \"index>>\" + index);\n    // eslint-disable-next-line no-restricted-globals\n    let confirmation = confirm(\"Are you sure want to delete?\");\n    if (confirmation) {\n      axios\n        .delete(`http://localhost:2021/api/product/${id}`, {\n          headers: {\n            \"content-Type\": \"application/json\",\n            authorization: localStorage.getItem(\"token\"),\n          },\n        })\n        .then((response) => {\n          notification.showInfo(\"item deleted sucessfully\");\n          const { product } = this.state;\n          product.splice(index, 1);\n          this.setState({\n            product,\n          });\n        })\n        .catch((err) => {});\n    }\n  };\n  formatDate = () => {};\n  formatTime = () => {};\n\n  render() {\n    console.log(this.state.product);\n    let tableContent = (this.state.product || []).map((item, index) => (\n      <tr key={item._id}>\n        <td>{index + 1}</td>\n        <td>{item.name}</td>\n        <td>{item.category}</td>\n        <td>{item.price}</td>\n        <td>{utils.formatDate(item.createdAt)}</td>\n        <td>{utils.formatTime(item.createdAt)}</td>\n        <td>\n          <img\n            src={`${IMG_URL}/${item.images[0]}`}\n            alt=\"image.jpeg\"\n            width=\"100\"\n            height=\"100\"\n          ></img>\n        </td>\n\n        <td>\n          <button\n            onClick={() => this.editProduct(item._id)}\n            className=\"btn btn-info\"\n          >\n            edit\n          </button>\n          <button\n            onClick={() => this.deleteProduct(item._id, index)}\n            className=\"btn btn-danger\"\n          >\n            delete\n          </button>\n        </td>\n      </tr>\n    ));\n    let mainContent = this.state.isLoading ? (\n      <Loader></Loader>\n    ) : (\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>S.N</th>\n            <th>Name</th>\n            <th>Category</th>\n            <th>Price</th>\n            <th>Created Date</th>\n            <th>Created Time</th>\n            <th>Images</th>\n            <th>action</th>\n          </tr>\n        </thead>\n        <tbody>{tableContent}</tbody>\n      </table>\n    );\n    return (\n      <>\n        <h2>View Product</h2>\n        {mainContent}\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}