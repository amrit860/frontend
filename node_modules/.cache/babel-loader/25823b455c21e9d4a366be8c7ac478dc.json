{"ast":null,"code":"var _jsxFileName = \"/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/edit-product/edit.productForm.js\";\nimport React, { Component } from 'react';\nimport AddProductForm from \"./../ProductForm/add.productForm\";\nimport axios from \"axios\";\nimport { Loader } from '../../common/loader/loader.component';\nexport default class EditProductComponents extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isLoading: false,\n      product: ''\n    };\n  }\n\n  componentDidMount() {\n    this.productId = this.props.match.params[\"id\"];\n    this.setState({\n      isLoading: true\n    });\n    axios.get(`http://localhost:2021/api/product/${this.productId}`, {\n      headers: {\n        \"content-Type\": \"application/json\",\n        'Authorization': localStorage.getItem('token')\n      },\n      params: {},\n      responseType: \"json\"\n    }).then(response => {\n      console.log(response);\n      const data = response.data[0];\n\n      if (typeof data.discount === 'object') {\n        data.discountedItem = data.discount.discountedItem;\n        data.discountType = data.discount.discountType ? data.discount.discountType : '';\n        data.discount = data.discount.discount ? data.discount.discount : '';\n      }\n\n      if (typeof data.warranty === 'object') {\n        data.warrantyItem = data.warranty.warrantyItem;\n        data.warrantyPeriod = data.warranty.warrantyPeriod;\n        data.warranty = undefined;\n      }\n\n      this.setState(() => {\n        return {\n          product: data\n        };\n      }, () => {\n        console.log('hello from setState');\n      }); // this.props.history.push(\"/View Product\");\n    }) // .then(response => {\n    //     console.log(\"editproduct>>\",response);\n    //     this.setState({\n    //         product:response.data\n    //     })\n    //   })\n    .catch(err => {\n      console.log(\"edit error>>\", err);\n      console.log(\"error >>\", err);\n    }).finally(() => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  render() {\n    let content = this.state.isLoading ? React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }) : React.createElement(AddProductForm, {\n      title: \"Edit Product\",\n      productData: this.state.product,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    });\n    return React.createElement(React.Fragment, null, content);\n  }\n\n}","map":{"version":3,"sources":["/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/edit-product/edit.productForm.js"],"names":["React","Component","AddProductForm","axios","Loader","EditProductComponents","constructor","state","isLoading","product","componentDidMount","productId","props","match","params","setState","get","headers","localStorage","getItem","responseType","then","response","console","log","data","discount","discountedItem","discountType","warranty","warrantyItem","warrantyPeriod","undefined","catch","err","finally","render","content"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AddProductForm from \"./../ProductForm/add.productForm\";\nimport axios from \"axios\";\nimport { Loader } from '../../common/loader/loader.component';\n\n\nexport default class EditProductComponents extends Component {\n  \n    constructor() {\n        super();\n        this.state = {\n            isLoading: false,\n            product: ''\n        };\n    }\n    componentDidMount() {\n        this.productId = this.props.match.params[\"id\"];\n        this.setState({\n            isLoading: true\n        })\n        axios.get\n            (`http://localhost:2021/api/product/${this.productId}`,\n               {\n                    headers: {\n                        \"content-Type\": \"application/json\",\n                        'Authorization': localStorage.getItem('token')\n\n                    },\n                    params: {},\n                    responseType: \"json\"\n                }\n            )\n\n            .then(response => {\n\n                console.log(response);\n                const data = response.data[0]\n                if (typeof data.discount === 'object' ) {\n                    data.discountedItem = data.discount.discountedItem;\n\n                    data.discountType = data.discount.discountType\n                        ? data.discount.discountType\n                        : '';\n                    data.discount = data.discount.discount\n                        ? data.discount.discount\n                        : '';\n                }\n                if (typeof data.warranty === 'object' ) {\n                    data.warrantyItem = data.warranty.warrantyItem;\n                    data.warrantyPeriod = data.warranty.warrantyPeriod;\n                    data.warranty = undefined;\n                }\n                this.setState(()=>{\n                    return{\n                        product: data\n                    }\n                },()=>{\n                    console.log('hello from setState')\n                })\n                                // this.props.history.push(\"/View Product\");\n\n            })\n            // .then(response => {\n            //     console.log(\"editproduct>>\",response);\n            //     this.setState({\n            //         product:response.data\n            //     })\n\n            //   })\n            .catch(err => {\n                console.log(\"edit error>>\", err);\n                console.log(\"error >>\", err);\n\n            })\n            .finally(() => {\n                this.setState({\n                    isLoading: false\n                })\n            })\n\n\n    }\n\n\n\n    render() {\n        let content = this.state.isLoading\n            ? <Loader></Loader>\n            : <AddProductForm title=\"Edit Product\" productData={this.state.product}></AddProductForm>\n\n        return (\n            <>\n                {content}\n\n\n            </>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}