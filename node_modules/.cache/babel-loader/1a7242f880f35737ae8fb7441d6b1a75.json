{"ast":null,"code":"var _jsxFileName = \"/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/searchProduct.Component/searchProduct.js\";\nimport React, { Component } from \"react\";\nimport ViewProductComponent from \"../view-product/viewProduct\";\nimport { httpClient } from \"../../../utils/httpclient\";\nconst defaultForm = {\n  category: \"\",\n  name: \"\",\n  minPrice: \"\",\n  maxPrice: \"\",\n  fromDate: \"\",\n  toDate: \"\",\n  brand: \"\",\n  tags: \"\"\n};\nexport default class SearchProduct extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = e => {\n      let {\n        name,\n        type,\n        value,\n        checked\n      } = e.target;\n\n      if (name === \"category\") {\n        this.filterNames(value);\n      }\n\n      if (type === \"checkbox\") {\n        value = checked;\n      }\n\n      this.setState(pre => ({\n        data: { ...pre.data,\n          [name]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      this.search(this.state.data);\n    };\n\n    this.state = {\n      data: { ...defaultForm\n      },\n      error: { ...defaultForm\n      },\n      isSubmitting: false,\n      isLoading: false,\n      categories: [],\n      allProducts: [],\n      namesArray: [],\n      searchResult: []\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true\n    });\n    httpClient.get(\"/product/search\", {}, true).then(response => {\n      let categories = [];\n      response.data.forEach(item => {\n        if (categories.indexOf(item.category) === -1) {\n          categories.push(item.category);\n        }\n      });\n      this.setState({\n        categories: categories,\n        allProducts: response.data\n      });\n    }).catch(err => {\n      console.log(\"err>>\", err);\n    }).finally(() => {\n      this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  filterNames(category) {\n    let names = this.state.allProducts.filter(item => item.category === category);\n    this.setState({\n      namesArray: names\n    });\n  }\n\n  search(data) {\n    if (!data.toDate) {\n      data.toDate = data.fromDate;\n    }\n\n    this.setState({\n      isSubmitting: true\n    });\n    console.log(\"data is\", data);\n    httpClient.post(\"/product/search\", data, {}, true).then(response => {\n      this.setState({\n        searchResult: response.data\n      });\n    }).catch(err => {}).finally(() => {\n      this.setState({\n        isSubmitting: false\n      });\n    });\n  }\n\n  render() {\n    let btn = this.state.isSubmitting ? React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"submitting....\") : React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"submit\");\n    let categoryContent = this.state.categories.map((item, i) => React.createElement(\"option\", {\n      key: i,\n      value: item,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, item));\n    let nameContent = this.state.namesArray.map(item => React.createElement(\"option\", {\n      key: item._id,\n      value: item.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, item.name));\n    let toDate = this.state.data.multipleDateRange ? React.createElement(React.Fragment, null, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"To Date\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"toDate\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    })) : \"\";\n    let mainContent = this.state.searchResult.length ? React.createElement(ViewProductComponent, {\n      productData: this.state.searchResult,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }) : React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Search Product\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Category\"), React.createElement(\"select\", {\n      className: \"form-control\",\n      name: \"category\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"(select Category)\"), categoryContent), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"select\", {\n      name: \"name\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"(Select Name)\"), nameContent), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, \"minPrice\"), React.createElement(\"input\", {\n      type: \"number\",\n      name: \"minPrice\",\n      className: \"form-control\",\n      placeholder: \"MinPrice\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, \"maxPrice\"), React.createElement(\"input\", {\n      type: \"number\",\n      name: \"maxPrice\",\n      className: \"form-control\",\n      placeholder: \"MaxPrice\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"tags\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"tags\",\n      placeholder: \"Tags\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, \"Date\"), React.createElement(\"input\", {\n      type: \"date\",\n      name: \"fromDate\",\n      className: \"form-control\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"multipleDateRange\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, \"Multiple Date Range\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), toDate, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), btn));\n    return mainContent;\n  }\n\n}","map":{"version":3,"sources":["/media/amrit/local Disk/frontend/AmritProject/fronted/src/component/product/searchProduct.Component/searchProduct.js"],"names":["React","Component","ViewProductComponent","httpClient","defaultForm","category","name","minPrice","maxPrice","fromDate","toDate","brand","tags","SearchProduct","constructor","handleChange","e","type","value","checked","target","filterNames","setState","pre","data","handleSubmit","preventDefault","search","state","error","isSubmitting","isLoading","categories","allProducts","namesArray","searchResult","componentDidMount","get","then","response","forEach","item","indexOf","push","catch","err","console","log","finally","names","filter","post","render","btn","categoryContent","map","i","nameContent","_id","multipleDateRange","mainContent","length"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ViewProductComponent from \"../view-product/viewProduct\";\nimport { httpClient } from \"../../../utils/httpclient\";\n\nconst defaultForm = {\n  category: \"\",\n  name: \"\",\n  minPrice: \"\",\n  maxPrice: \"\",\n  fromDate: \"\",\n  toDate: \"\",\n  brand: \"\",\n  tags: \"\",\n};\nexport default class SearchProduct extends Component {\n  constructor() {\n    super();\n    this.state = {\n      data: { ...defaultForm },\n      error: { ...defaultForm },\n      isSubmitting: false,\n      isLoading: false,\n      categories: [],\n      allProducts: [],\n      namesArray: [],\n      searchResult: [],\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      isLoading: true,\n    });\n    httpClient\n      .get(\"/product/search\", {}, true)\n      .then((response) => {\n        let categories = [];\n        response.data.forEach((item) => {\n          if (categories.indexOf(item.category) === -1) {\n            categories.push(item.category);\n          }\n        });\n        this.setState({\n          categories: categories,\n          allProducts: response.data,\n        });\n      })\n      .catch((err) => {\n        console.log(\"err>>\", err);\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n  }\n\n  handleChange = (e) => {\n    let { name, type, value, checked } = e.target;\n    if (name === \"category\") {\n      this.filterNames(value);\n    }\n    if (type === \"checkbox\") {\n      value = checked;\n    }\n    this.setState((pre) => ({\n      data: {\n        ...pre.data,\n        [name]: value,\n      },\n    }));\n  };\n\n  filterNames(category) {\n    let names = this.state.allProducts.filter(\n      (item) => item.category === category\n    );\n    this.setState({\n      namesArray: names,\n    });\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.search(this.state.data);\n  };\n\n  search(data) {\n    if (!data.toDate) {\n      data.toDate = data.fromDate;\n    }\n    this.setState({\n      isSubmitting: true,\n    });\n    console.log(\"data is\", data);\n    httpClient\n      .post(\"/product/search\", data, {}, true)\n\n      .then((response) => {\n        this.setState({\n          searchResult: response.data,\n        });\n      })\n      .catch((err) => {})\n      .finally(() => {\n        this.setState({\n          isSubmitting: false,\n        });\n      });\n  }\n\n  render() {\n    let btn = this.state.isSubmitting ? (\n      <button className=\"btn btn-info\" disabled={true}>\n        submitting....\n      </button>\n    ) : (\n      <button className=\"btn btn-primary\" type=\"submit\">\n        submit\n      </button>\n    );\n\n    let categoryContent = this.state.categories.map((item, i) => (\n      <option key={i} value={item}>\n        {item}\n      </option>\n    ));\n\n    let nameContent = this.state.namesArray.map((item) => (\n      <option key={item._id} value={item.name}>\n        {item.name}\n      </option>\n    ));\n\n    let toDate = this.state.data.multipleDateRange ? (\n      <>\n        <label>To Date</label>\n\n        <input\n          type=\"date\"\n          name=\"toDate\"\n          className=\"form-control\"\n          onChange={this.handleChange}\n        ></input>\n      </>\n    ) : (\n      \"\"\n    );\n\n    let mainContent = this.state.searchResult.length ? (\n      <ViewProductComponent\n        productData={this.state.searchResult}\n      ></ViewProductComponent>\n    ) : (\n      <>\n        <h2>Search Product</h2>\n        <form onSubmit={this.handleSubmit} className=\"form-group\">\n          <label>Category</label>\n          <select\n            className=\"form-control\"\n            name=\"category\"\n            onChange={this.handleChange}\n          >\n            <option disabled={true} value=\"\">\n              (select Category)\n            </option>\n\n            {categoryContent}\n          </select>\n          <br></br>\n          <label>Name</label>\n          <select\n            name=\"name\"\n            className=\"form-control\"\n            onChange={this.handleChange}\n          >\n            <option disabled={true}>(Select Name)</option>\n            {nameContent}\n          </select>\n\n          <br></br>\n          <label>minPrice</label>\n\n          <input\n            type=\"number\"\n            name=\"minPrice\"\n            className=\"form-control\"\n            placeholder=\"MinPrice\"\n            onChange={this.handleChange}\n          ></input>\n          <br></br>\n          <label>maxPrice</label>\n          <input\n            type=\"number\"\n            name=\"maxPrice\"\n            className=\"form-control\"\n            placeholder=\"MaxPrice\"\n            onChange={this.handleChange}\n          ></input>\n          <br></br>\n          <label>tags</label>\n\n          <input\n            type=\"text\"\n            name=\"tags\"\n            placeholder=\"Tags\"\n            className=\"form-control\"\n            onChange={this.handleChange}\n          ></input>\n          <br></br>\n          <label>Date</label>\n\n          <input\n            type=\"date\"\n            name=\"fromDate\"\n            className=\"form-control\"\n            onChange={this.handleChange}\n          ></input>\n          <input\n            type=\"checkbox\"\n            name=\"multipleDateRange\"\n            onChange={this.handleChange}\n          ></input>\n          <label>Multiple Date Range</label>\n          <br></br>\n          {toDate}\n\n          <br></br>\n\n          {btn}\n        </form>\n      </>\n    );\n    return mainContent;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}